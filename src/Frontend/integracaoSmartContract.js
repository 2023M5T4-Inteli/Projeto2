// Importe a biblioteca Web3.js
const Web3 = require('web3');

// Defina o endereço do contrato
const contractAddress = '0x797316aaD067249D379b0bEAb6Ea8BEB97E5f90D';

// Defina o bytecode do contrato
const contractBytecode = '0x608060405234801561001057600080fd5b5060006002819055506001600360006101000a81548160ff021916908315150217905550336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610cbf806100836000396000f3fe6080604052600436106100865760003560e01c8063b69ef8a811610059578063b69ef8a814610128578063d91c162d14610153578063ee8f6a0e1461017c578063f2020275146101a7578063fcd7e3c8146101d257610086565b806309e69ede1461008b57806312065fe0146100c857806322f3e2d4146100f3578063b688a3631461011e575b600080fd5b34801561009757600080fd5b506100b260048036038101906100ad9190610727565b6101fd565b6040516100bf919061076d565b60405180910390f35b3480156100d457600080fd5b506100dd610215565b6040516100ea919061076d565b60405180910390f35b3480156100ff57600080fd5b5061010861021d565b60405161011591906107a3565b60405180910390f35b610126610230565b005b34801561013457600080fd5b5061013d6103ac565b60405161014a919061076d565b60405180910390f35b34801561015f57600080fd5b5061017a60048036038101906101759190610930565b6103b2565b005b34801561018857600080fd5b506101916106a3565b60405161019e919061076d565b60405180910390f35b3480156101b357600080fd5b506101bc6106a9565b6040516101c9919061076d565b60405180910390f35b3480156101de57600080fd5b506101e76106af565b6040516101f4919061076d565b60405180910390f35b60066020528060005260406000206000915090505481565b600047905090565b600360009054906101000a900460ff1681565b6001543414610274576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161026b906109fc565b60405180910390fd5b60011515600360009054906101000a900460ff161515146102ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102c190610a68565b60405180910390fd5b6000600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541461034c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161034390610afa565b60405180910390fd5b34600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001600260008282546103a39190610b49565b92505081905550565b60055481565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610440576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161043790610bc9565b60405180910390fd5b6040518060400160405280600381526020017f737562000000000000000000000000000000000000000000000000000000000081525080519060200120818051906020012014806104d357506040518060400160405280600481526020017f706c757300000000000000000000000000000000000000000000000000000000815250805190602001208180519060200120145b610512576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050990610c35565b60405180910390fd5b6040518060400160405280600381526020017f7375620000000000000000000000000000000000000000000000000000000000815250805190602001208180519060200120036105b75781600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546105ab9190610c55565b92505081905550610659565b6040518060400160405280600481526020017f706c757300000000000000000000000000000000000000000000000000000000815250805190602001208180519060200120036106585781600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546106509190610b49565b925050819055505b5b6000600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505050565b60045481565b60025481565b60015481565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106f4826106c9565b9050919050565b610704816106e9565b811461070f57600080fd5b50565b600081359050610721816106fb565b92915050565b60006020828403121561073d5761073c6106bf565b5b600061074b84828501610712565b91505092915050565b6000819050919050565b61076781610754565b82525050565b6000602082019050610782600083018461075e565b92915050565b60008115159050919050565b61079d81610788565b82525050565b60006020820190506107b86000830184610794565b92915050565b6107c781610754565b81146107d257600080fd5b50565b6000813590506107e4816107be565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61083d826107f4565b810181811067ffffffffffffffff8211171561085c5761085b610805565b5b80604052505050565b600061086f6106b5565b905061087b8282610834565b919050565b600067ffffffffffffffff82111561089b5761089a610805565b5b6108a4826107f4565b9050602081019050919050565b82818337600083830152505050565b60006108d36108ce84610880565b610865565b9050828152602081018484840111156108ef576108ee6107ef565b5b6108fa8482856108b1565b509392505050565b600082601f830112610917576109166107ea565b5b81356109278482602086016108c0565b91505092915050565b600080600060608486031215610949576109486106bf565b5b600061095786828701610712565b9350506020610968868287016107d5565b925050604084013567ffffffffffffffff811115610989576109886106c4565b5b61099586828701610902565b9150509250925092565b600082825260208201905092915050565b7f4f2076616c6f7220646f20706167616d656e746f20657374612065727261646f600082015250565b60006109e660208361099f565b91506109f1826109b0565b602082019050919050565b60006020820190508181036000830152610a15816109d9565b9050919050565b7f4f20636f6e747261746f206e616f2065737461206d61697320617469766f0000600082015250565b6000610a52601e8361099f565b9150610a5d82610a1c565b602082019050919050565b60006020820190508181036000830152610a8181610a45565b9050919050565b7f4573746520656e64657265636f206a612070617274696369706120646f20636f60008201527f6e747261746f0000000000000000000000000000000000000000000000000000602082015250565b6000610ae460268361099f565b9150610aef82610a88565b604082019050919050565b60006020820190508181036000830152610b1381610ad7565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b5482610754565b9150610b5f83610754565b9250828201905080821115610b7757610b76610b1a565b5b92915050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b6000610bb360098361099f565b9150610bbe82610b7d565b602082019050919050565b60006020820190508181036000830152610be281610ba6565b9050919050565b7f736f62206f7220706c7573000000000000000000000000000000000000000000600082015250565b6000610c1f600b8361099f565b9150610c2a82610be9565b602082019050919050565b60006020820190508181036000830152610c4e81610c12565b9050919050565b6000610c6082610754565b9150610c6b83610754565b9250828203905081811115610c8357610c82610b1a565b5b9291505056fea264697066735822122058dfddbb4786d2f40b8d4bbcc36397042229a5b1cc133ae292da385ee9f31bcb64736f6c63430008130033';

// Defina os parâmetros de inicialização do contrato (se houver)
// const contractParams = [123, 'Hello World'];

// Crie uma instância do objeto Web3
const web3 = new Web3('https://goerli.infura.io/v3/465bc8fcae5f45f5b044b7b96aa27e47');

// Crie uma instância do contrato
const contractInstance = new web3.eth.Contract([], contractAddress);

// Crie uma transação para implantar o contrato
const deployTransaction = {
  data: contractBytecode,
  arguments: contractParams
};

// Assine a transação com a chave privada
const privateKey = '604c0ea97180aefb61e284582cd16b38ec80d2caddea7f70a7c22a40c9c26117';
const signedTransaction = await web3.eth.accounts.signTransaction(deployTransaction, privateKey);

// Envie a transação para a rede
const receipt = await web3.eth.sendSignedTransaction(signedTransaction.rawTransaction);
console.log(receipt);

// Execute uma função do contrato
const result = await contractInstance.methods.functionName().call();
console.log(result);